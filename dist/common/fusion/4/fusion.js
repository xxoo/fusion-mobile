"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}define(["common/touchslider/touchslider","common/touchguesture/touchguesture","common/pointerevents/pointerevents","common/svgicos/svgicos","site/pages/pages","site/panels/panels","site/popups/popups","./lang"],(function(e,t,n,o,i,a,r,s){var l,c,d,u,f,p,h,y,m,v=function(e){return e.preventDefault()},g=function(e){return e.stopPropagation()},b={__proto__:null,appendCss(e,t){var n=document.createElement("link");return self.less&&!t?(n.rel="stylesheet/less",n.href=e+".less",less.sheets.push(n),less.refresh()):(n.rel="stylesheet",n.href=e+".css"),document.head.appendChild(n)},removeCss(e){e.remove(),"stylesheet/less"===e.rel&&(less.sheets.splice(less.sheets.indexOf(e),1),less.refresh())},makeSvg(e,t){var n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg");return o.appendChild(document.createElementNS(n,"path")),e&&b.setSvgPath(o,e,t),o},setSvgPath(e,t,n){var i;if(t in o&&(t=o[t]),e.firstChild.setAttribute("d",t),3==n)i={x:0,y:0,width:24,height:24};else{var a=b.makeSvg();a.style.position="absolute",a.style.bottom=a.style.right="100%",a.firstChild.setAttribute("d",t),document.body.appendChild(a),i=a.firstChild.getBBox(),a.remove(),2==n?(i.width+=2*i.x,i.x=0,i.height+=2*i.y,i.y=0):n&&(i.width>i.height?(i.y-=(i.width-i.height)/2,i.height=i.width):(i.x-=(i.height-i.width)/2,i.width=i.height))}e.setAttribute("viewBox",i.x+" "+i.y+" "+i.width+" "+i.height)},parseHash(e){var t={__proto__:null,id:l,args:{__proto__:null}},n=e.substring(1).match(/[^=/]+(=[^/]*)?/g);if(n){var o=decodeURIComponent(n[0],!0);o in i&&(t.id=o);for(var a=1;a<n.length;a++)(o=n[a].match(/^([^=]+)(=)?(.+)?$/))&&(t.args[decodeURIComponent(o[1],!0)]=o[2]?decodeURIComponent(o[3]||""):void 0)}return t},getDefaultBack(e){var t;if(e||(e=b.location),e.args.backHash&&(t=b.parseHash(e.args.backHash)),t)return t;var n=i[e.id].backLoc;if(i[e.id].back&&i[i[e.id].back]){t={id:i[e.id].back,args:{__proto__:null}};var o=i[i[e.id].back].alias?i[i[i[e.id].back].alias]:i[i[e.id].back];if(o.args)for(var a=0;a<o.args.length;a++)o.args[a]in e.args&&(t.args[o.args[a]]=e.args[o.args[a]])}if(n&&t){for(var r in t.args)if(t.args[r]!==n.args[r])return t;return n}return n||t},isGoingback(e,t){var n=e;if(n!==t){if(t===l||n.length>t.length+1&&n.substring(0,t.length+1)===t+"-")return!0;for(;i[n].back;)if((n=i[n].back)===t)return!0;n=e.split("-");for(var o=t.split("-"),a=Math.min(n.length,o.length),r=0;r<a&&n[r]===o[r];)r++;if(r<Math.max(n.length,o.length)-1)return r<n.length-1&&n.splice(r+1),r<o.length-1&&o.splice(r+1),b.isGoingback(n.join("-"),o.join("-"))}},replaceLocation:(e,t)=>b.location&&b.isSameLocation(e,b.location)?(t&&b.reloadPage(),!1):(location.replace(b.buildHash(e)),!0)};return"animation"in document.documentElement.style?(c="onanimationend",d="animationName",u="animationDuration"):(c="onwebkitanimationend",d="webkitAnimationName",u="webkitAnimationDuration"),self.frameElement&&frameElement.fusion?self.Reflect?Reflect.setPrototypeOf(b,frameElement.fusion):b.__proto__=frameElement.fusion:(b.encodeArg=function(e,t){return e.replace(t?/[^!$\x26-\x2e\x30-\x3b\x3f-\x5f\x61-\x7e]+/g:/[^!$=\x26-\x2e\x30-\x3b\x3f-\x5f\x61-\x7e]+/g,encodeURIComponent)},b.buildHash=function(e){var t="#/"+b.encodeArg(e.id,!0);for(var n in e.args)t+="/"+b.encodeArg(n,!0),void 0!==e.args[n]&&(t+="="+b.encodeArg(e.args[n]));return t},b.isSameLocation=function(e,t){if(e.id===t.id&&Object.keys(e.args).length===Object.keys(t.args).length){for(var n in e.args){if(!(n in t.args))return!1;if(void 0===e.args[n]){if(e.args[n]!==t.args[n])return!1}else if(""+e.args[n]!=""+t.args[n])return!1}return!0}return!1},b.getLang=function(e){if(navigator.languages){for(var t=0;t<navigator.languages.length;t++)if(navigator.languages[t]in e)return e[navigator.languages[t]]}else if(navigator.language in e)return e[navigator.language];return e.en},function(){var e,t,n,o,i=document.head.querySelector("meta[name=viewport]"),a=i.content;function r(){var o=i.content.match(/initial-scale=([\d\.]+)/);o=o?+o[1]:1;var a=Math.round(innerWidth*o),l=Math.round(innerHeight*o);e===a&&t===l?n=requestAnimationFrame(r):(s(a,l),e=a,t=l,n=void 0)}function s(e,t,n){if(e&&t){var a=Math.min(e,t),r=a/o;r>1&&(r=Math.sqrt(r)),r=n?"user-scalable=no, width="+Math.round(e/r):"user-scalable=no, initial-scale="+(r=a/Math.round(a/r))+", maximum-scale="+r+", minimum-scale="+r,i.content!==r&&(i.content=r)}}b.setAutoScale=function(n){(o=n)>0?self.visualViewport?self.visualViewport.dispatchEvent(new Event("resize")):self.dispatchEvent(new Event("resize")):(i.content=a,e=t=void 0)},self.visualViewport?self.visualViewport.addEventListener("resize",(function(){o>0&&s(Math.round(this.width*this.scale),Math.round(this.height*this.scale),!0)})):self.addEventListener("resize",(function(){o>0&&(n&&cancelAnimationFrame(n),r())}))}(),function(){var e="function"==typeof Symbol?Symbol("xEvents"):"xEvents";function t(t){var o=this[e][t.type];o.locked=!0;for(var i=0;i<o.heap.length;i++)o.heap[i].call(this,t);for(o.locked=!1;o.stack.length;){if(o.stack[0])if("function"==typeof o.stack[0]){var a=o.heap.indexOf(o.stack[0]);a>=0&&o.heap.splice(a,1)}else o.heap.indexOf(o.stack[0][0])<0&&o.heap.push(o.stack[0][0]);else o.heap.splice(0);o.stack.shift()}n(this,t.type)}function n(t,n,o){!o&&t[e][n].heap.length||(delete t[e][n],t["on"+n]=null)}b.listeners={on(n,o,i){var a=0;return"function"==typeof i&&(Object.hasOwn(n,e)||(n[e]={__proto__:null}),o in n[e]||(n[e][o]={stack:[],heap:[],locked:!1},n["on"+o]=t),n[e][o].locked?(n[e][o].stack.push([i]),a=2):n[e][o].heap.indexOf(i)<0&&(n[e][o].heap.push(i),a=1)),a},once(e,t,n){b.listeners.on(e,t,(function o(i){b.listeners.off(e,t,o),n.call(e,i)}))},list(t,n){var o;if(n)o=Object.hasOwn(t,e)&&n in t[e]?t[e][n].heap.slice(0):[];else if(o={__proto__:null},Object.hasOwn(t,e))for(var i in t[e])o[i]=t[e][i].heap.slice(0);return o},off(t,o,i){var a=0;if(Object.hasOwn(t,e))if(o){if(o in t[e])if(t[e][o].locked)t[e][o].stack.push(i),a=2;else if("function"==typeof i){var r=t[e][o].heap.indexOf(i);r>=0&&(t[e][o].heap.splice(r,1),n(t,o),a=1)}else n(t,o,!0),a=1}else{for(var s in t[e])t[e][s].locked?(t[e][s].stack.push(void 0),a=2):n(t,s,!0);a||(a=1)}return a},trigger(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{__proto__:null},o="on"+t;"function"==typeof e[o]&&(n.type=t,e[o](n))}}}(),b.scrollReload=function(e,t){var o,i,a,r,s=this,l=n(e,(function(n){if("start"===n.type){if(0===l.pointers.length&&0===s.getScrollTop(e))return o=n.y,n.domEvent.view.addEventListener("scroll",c,!0),!0}else{if(r)return r=!1,!0;if(n.y>o){i||(i=!0,n.domEvent.view.removeEventListener("scroll",c,!0)),n.domEvent.preventDefault(),n.domEvent.stopPropagation(),a||((a=s.makeSvg("mdiRefresh",3)).classList.add("reloadHint"),e.appendChild(a));var d=40,u=n.y-o-d;u<d?(a.classList.remove("pin"),a.style.top=17*u/16-17*Math.pow(u,2)/1280+13.75+"px",a.style.opacity=(u+d)/80,a.style.transform="rotate("+360*a.style.opacity+"deg)"):a.classList.contains("pin")||(a.style.top="40px",a.style.opacity=1,a.classList.add("pin"),a.style.transform="",navigator.vibrate&&navigator.vibrate(10))}else{if(n.y<o&&!i)return!0;a&&(a.remove(),a=void 0)}"end"!==n.type&&"cancel"!==n.type||(a&&(a.remove(),a.classList.contains("pin")&&("function"==typeof t?t():s.reloadPage()),a=void 0),i=!1)}}));function c(t){t.target!==e&&(r=!0,this.removeEventListener("scroll",c,!0))}this.fixIosScrolling(e)},b.fixIosScrolling=function(e,t,n){if("IOS"===browser.name){var o=n?-1:1;e.addEventListener("touchmove",g,{passive:!1}),t||(e.classList.add("iosScrollFix"),n&&e.classList.add("rev"),e.scrollTop=o,e.onscroll=function(){0===this.scrollTop?(console.log(this.scrollTop),this.scrollTop=o):this.scrollTop+this.clientHeight===this.scrollHeight&&(console.log(this.scrollTop),this.scrollTop-=o)})}},b.getScrollTop=function(e,t){return e.classList.contains("iosScrollFix")?e.scrollTop+(t?1:-1):e.scrollTop},b.getScrollHeight=function(e){return e.classList.contains("iosScrollFix")?e.scrollHeight-2:e.scrollHeight},b.setScrollTop=function(e,t,n){return e.scrollTop=e.classList.contains("iosScrollFix")?t+(n?-1:1):t},function(){var e,t=document.body.querySelector("#helper"),n=t.firstChild,o=t.lastChild;function i(e){o.src=e.img,"right"in e&&(o.style.right=e.right),"left"in e&&(o.style.left=e.left),"top"in e&&(o.style.top=e.top),"bottom"in e&&(o.style.bottom=e.bottom),"width"in e&&(o.style.width=e.width),"height"in e&&(o.style.height=e.height);for(var t=0;t<n.childElementCount;t++){var i=n.children[t];e.rows[t]?(i.style.height=e.rows[t],i.className="unflexable"):(i.style.height="auto",i.className="flexable")}for(var a=0;a<n.children[1].childElementCount;a++){var r=n.children[1].children[a];e.cells[a]?(r.style.width=e.cells[a],r.className="unflexable"):(r.style.width="auto",r.className="flexable")}}t.onclick=function n(){e.length>1?(e.shift(),"function"==typeof e[0]?(e[0](),n()):i(e[0])):t.style.display=""},b.showHelper=function(n){i((e=Array.isArray(n)?n:[n])[0]),t.style.display="block"}}(),function(){var e,t,o,i,r,s,l,c,d,u,f=document.querySelector("#panel"),p=f.querySelector(":scope>.content"),h=n(f,(function(n){if("start"===n.type){if(!h.pointers.length&&!e)return p.querySelector(":scope>."+t),r=s=i=n.x,l=c=n.domEvent.timeStamp,n.domEvent.view.addEventListener("scroll",m,!0),!0}else{if(u)return u=!1,!0;if("move"===n.type)r=s,l=c,s=n.x,c=n.domEvent.timeStamp,!d&&Math.abs(s-i)>5&&(d=!0,n.domEvent.view.removeEventListener("scroll",m,!0)),d&&(n.domEvent.preventDefault(),p.style.transform="translateX("+Math.max(Math.min(s-i,0),-p.offsetWidth)+"px)");else{if(d){var o=(n.x-r)/(n.domEvent.timeStamp-l),a=4e3*Math.pow(o,2);o<0&&(a=-a),(!(a=a+s-i<-p.offsetWidth/2)||b.closePanel())&&a||"translateX(0px)"===p.style.transform||(p.style.transition="",p.style.transform="translateX(0px)",p.ontransitionend=function(e){e.target===this&&(this.style.transition="none",this.ontransitionend=null)})}else n.domEvent.view.addEventListener("scroll",m,!0);u=d=!1}}}));function y(){if("function"!=typeof a[t].onunload||!a[t].onunload())return a[t].status--,e=p.querySelector(":scope>."+t),p.style.transition=p.style.transform="",!0}function m(){u=!0,this.removeEventListener("scroll",m,!0)}b.openPanel=function(e,t){if(e in a)return S("panel",e,(function(n){"function"==typeof a[e].open?a[e].open(t):b.showPanel(e)})),!0},b.showPanel=function(n){var i=0;return a[n].status>1&&(e?(o=b.showPopup.bind(this,n),i=2):t?t===n?("function"!=typeof a[n].onload&&a[n].onload(),"function"==typeof a[n].onloadend&&a[n].onloadend(),i=1):y()&&(o=b.showPanel.bind(this,n),i=1):(a[n].status++,"function"==typeof a[n].onload&&a[n].onload(),f.style.visibility="inherit",(e=p.querySelector(":scope>."+n)).style.right=e.style.top="auto",e.style.position="relative",p.style.width=e.offsetWidth+"px",p.style.transform="translateX(0px)",f.className=t=n)),i},b.closePanel=function(n){var i=0;return e?(o=b.closePanel.bind(this,n),i=2):t&&(!n||t===n||Array.isArray(n)&&n.indexOf(t)>=0)&&y()&&(i=1),i},Object.defineProperty(b,"currentPanel",{enumerable:!0,get:function(){return t}}),b.destroyPanel=function(e){if(2===a[e].status)return C(a[e],"panel",e),!0},p.addEventListener("transitionend",(function(n){if(e&&n.target===this&&(this.style.transform?("function"==typeof a[t].onloadend&&a[t].onloadend(),a[t].status++,this.style.width="",this.style.transition="none"):("function"==typeof a[t].onunloadend&&a[t].onunloadend(),a[t].status--,e.style.position=e.style.right=e.style.top="",a[t].autoDestroy?C(a[t],"panel",t):document.activeElement&&e.contains(document.activeElement)&&document.activeElement.blur(),t=void 0,f.style.visibility=""),e=void 0,o)){var i=o;o=void 0,i()}}))}(),function(){var e,t,n,o,i,a=document.body.querySelector("#popup"),l=a.querySelector(":scope>.header>.close"),d=a.querySelector(":scope>.header>.title"),u=a.querySelector(":scope>.header>.back");function f(o){e&&a.classList.remove(e),t=n=void 0,e=o,a.classList.add(e),"string"==typeof r[o].titleContent?d.innerHTML=typeof r[o].titleContent:r[o].titleContent instanceof Node?d.replaceChildren(r[o].titleContent):r[o].titleContent&&"function"==typeof r[o].titleContent[Symbol.iterator]?d.replaceChildren.apply(d,_toConsumableArray(r[o].titleContent)):d.replaceChildren(r[o].title),document.body.classList.contains("hidePopupHeader")&&(document.title=r[o].title),u.style.display="none"}b.openPopup=function(t,n,o){if(t in r)return S("popup",t,(function(){"function"==typeof r[t].open?r[t].open(n,e&&o):b.showPopup(t,o)})),!0},b.showPopup=function(t,n){var s=0;if(r[t].status>1)if(o)i=b.showPopup.bind(this,t,n),s=2;else if(e){if(e===t)"function"==typeof r[t].onload&&r[t].onload(),"function"==typeof r[t].onloadend&&r[t].onloadend(),s=1;else if("function"!=typeof r[e].onunload||!r[e].onunload()){var l=a.querySelector(":scope>.content>."+e);r[e].status--,r[t].status++,"function"==typeof r[t].onload&&r[t].onload(n),L(a.querySelector(":scope>.content>."+t),l,n,(function(){var a=e;if(o=!1,f(t),"function"==typeof r[a].onunloadend&&r[a].onunloadend(),r[a].status--,r[a].autoDestroy?C(r[a],"popup",a):document.activeElement&&l.contains(document.activeElement)&&document.activeElement.blur(),"function"==typeof r[e].onloadend&&r[e].onloadend(n),r[t].status++,"function"==typeof i){var s=i;i=void 0,s()}})),o=t,s=1}}else{r[t].status++,"function"==typeof r[t].onload&&r[t].onload();var c=a.querySelector(":scope>.content>."+t);c.style.left=0,c.style.visibility="inherit",a.classList.add("in"),o=t,b.listeners.trigger(b.popupEvents,"show",{id:t}),f(t),b.hideReadable(),s=1}return s},b.closePopup=function(t){var n=0;return o?(i=b.closePopup.bind(this,t),n=2):!e||t&&e!==t&&!(Array.isArray(t)&&t.indexOf(e)>=0)||"function"==typeof r[e].onunload&&r[e].onunload()||(r[e].status--,a.classList.remove("in"),a.classList.add("out"),o=!0,b.listeners.trigger(b.popupEvents,"hide",{id:e}),n=1),n},Object.defineProperty(b,"currentPopup",{enumerable:!0,get:function(){return e}}),b.setPopupBack=function(e,o){a.classList.contains("in")&&(e?(u.lastChild.data="function"!=typeof e&&r[e].title?r[e].title:s.back,t=e,u.style.display="",n=o):u.style.display="none")},b.setPopupTitle=function(t,n){n?n in r&&(r[n].title=t,e===n&&(r[n].titleContent||(d.textContent=t),document.body.classList.contains("hidePopupHeader")&&(document.title=t))):a.classList.contains("in")&&(r[e].titleContent||(d.textContent=t),document.body.classList.contains("hidePopupHeader")&&(document.title=t))},b.destroyPopup=function(e){if(2===r[e].status)return C(r[e],"popup",e),!0},b.popupEvents={__proto__:null},a.querySelector(":scope>.content")[c]=k,l.appendChild(b.makeSvg("mdiWindowClose",1)),l.onclick=b.closePopup.bind(b,void 0),u.insertBefore(b.makeSvg("mdiChevronLeft",1),u.firstChild),u.onclick=function(){"function"==typeof t?t(n):b.openPopup(t,n,!0)},a[c]=function(t){if(t.target===this){if(o=!1,this.classList.contains("out")){this.classList.remove("out");var n=a.querySelector(":scope>.content>."+e);n.style.left=n.style.visibility="","function"==typeof r[e].onunloadend&&r[e].onunloadend(),r[e].status--,r[e].autoDestroy?C(r[e],"popup",e):document.activeElement&&n.contains(document.activeElement)&&document.activeElement.blur(),a.classList.remove(e),"function"==typeof b.popupEvents.onhideend&&b.popupEvents.onhideend({type:"hideend",id:e}),e=void 0}else"function"==typeof b.popupEvents.onshowend&&b.popupEvents.onshowend({type:"showend",id:e}),"function"==typeof r[e].onloadend&&r[e].onloadend(),r[e].status++;if("function"==typeof i){var s=i;i=void 0,s()}}}}(),h=document.body.querySelector("#readable"),y=h.querySelector(":scope>.close"),m=h.querySelector(":scope>.content"),b.fixIosScrolling(m),p=m.className,b.showReadable=function(e,t,n){"string"==typeof e?m.innerHTML=e:e instanceof Node?m.replaceChildren(e):e&&"function"==typeof e[Symbol.iterator]?m.replaceChildren.apply(m,_toConsumableArray(e)):m.innerHTML="",m.className=n?p+" "+n:p,h.className="in",f=t},b.hideReadable=function(){h.classList.contains("in")&&(h.classList.remove("in"),h.classList.add("out"),"function"==typeof f&&f())},b.showForeign=function(e,t){b.showReadable('<iframe frameborder="no" scrolling="'.concat("IOS"===browser.name?"no":"auto",'" sandbox="allow-same-origin allow-forms allow-scripts allow-modals" src="').concat(e,'"></iframe>'),t,"foreign")},y.appendChild(b.makeSvg("mdiCloseThick",1)),y.onclick=b.hideReadable,h[c]=function(e){if(e.target===this&&this.classList.contains("out")){for(;m.hasChildNodes();)m.firstChild.remove();this.className=""}},function(){var n,o,i,a,r,l=0,d=0,u=[],f=[],p=document.body.querySelector("#loading"),h=document.body.querySelector("#hint"),y=document.body.querySelector("#dialog"),m=y.querySelector(":scope>div"),v=m.querySelector(":scope>.content"),g=m.querySelector(":scope>.btns>.yes"),C=m.querySelector(":scope>.btns>.no"),S=m.querySelector(":scope>.close"),x=document.body.querySelector("#sliderView"),w=x.querySelector(":scope>.close"),E=e(x.querySelector(":scope>.content")),_=document.body.querySelector("#photoView"),q=_.querySelector(":scope>.content"),M=_.querySelector(":scope>.close"),P=_.querySelector(":scope>.actions"),A=P.querySelector(":scope>.flip"),T=P.querySelector(":scope>.rotate"),H=P.querySelector(":scope>.prev"),O=P.querySelector(":scope>.next"),N=t(q);function I(){a=q.clientWidth,r=q.clientHeight;for(var e=0;e<f.length;e++)j(e)}function z(e){f[e]={img:this,ow:this.naturalWidth,oh:this.naturalHeight,r:0,x:0,y:0,fx:1,fy:1,z:0},j(e)}function R(){this.style.transitionProperty=""}function j(e,t){var n=f[e];if(n){var o=n.r%2,i=Math.min(a/(o?n.oh:n.ow),r/(o?n.ow:n.oh));n.z<i&&(n.z=i);var s=n.ow*n.z,l=n.oh*n.z;o?(n.x=l>a?Math.min(Math.max(a-(l+s)/2,n.x),(l-s)/2):(a-s)/2,n.y=s>r?Math.min(Math.max(r-(l+s)/2,n.y),(s-l)/2):(r-l)/2):(n.x=s>a?Math.min(Math.max(a-s,n.x),0):(a-s)/2,n.y=l>r?Math.min(Math.max(r-l,n.y),0):(r-l)/2),t&&(n.img.style.transitionProperty="transform,width,height,top,left"),n.img.style.transform="rotate(".concat(90*n.r,"deg) scale(").concat(n.fx,",").concat(n.fy,")"),n.img.style.width=s+"px",n.img.style.height=l+"px",n.img.style.left=n.x+"px",n.img.style.top=n.y+"px"}}function D(e,t,n,i){return"inherit"===y.style.visibility?(u.push([e,t,n,i]),l+u.length):("alert"===e?Array.isArray(t)?(v.textContent=t[0],g.firstChild.data=t[1]):(v.textContent=t,C.firstChild.data=s.close):"confirm"===e?Array.isArray(t)?(v.textContent=t[0],g.firstChild.data=t[1],C.firstChild.data=t[2]):(v.textContent=t,g.firstChild.data=s.yes,C.firstChild.data=s.no):"string"==typeof t?v.innerHTML=t:t instanceof Node?v.replaceChildren(t):t&&"function"==typeof t[Symbol.iterator]?v.replaceChildren.apply(v,_toConsumableArray(t)):v.innerHTML="",m.className=e,y.style.visibility="inherit",++l,o=n,"function"==typeof i&&i(l),l)}b.showPhotoView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;i=t;for(var a=0;a<e.length;a++){var r=document.createElement("div"),s=document.createElement("img");t===a&&(r.style.visibility="inherit"),r.appendChild(s),q.appendChild(r),s.src=e[a],s.onload=z.bind(s,a),s.ontransitionend=R}if(H.style.display=O.style.display=e.length>1?"":"none","function"==typeof o&&n&&n.length)for(var l=function(e){var t=document.createElement("a");t.append(n[e]),t.onclick=function(){return o(e,i)},O.insertAdjacentElement("beforebegin",t)},c=0;c<n.length;c++)l(c);_.style.visibility="inherit"},b.hidePhotoView=function(){for(;P.childElementCount>4;)P.children[3].remove();f.splice(0),i=void 0,q.innerHTML=_.style.visibility=""},b.getPhotoOrientation=function(e){var t=f[e];if(t){var n=t.r,o=t.fx;return t.fy&&(o*=-1,n+=2),1===(n%=4)?o?5:8:2===n?o?4:3:3===n?o?7:6:o?2:1}},b.showSliderView=function(e,t,n){x.className=n||"";for(var o=0;o<e.length;o++)E.add(e[o]);t&&E.slideTo(t,!0)},b.hideSliderView=function(){E.clear()},b.alert=function(e,t,n){return D("alert",e,t,n)},b.confirm=function(e,t,n){return D("confirm",e,t,n)},b.htmlDialog=function(e,t,n,o){return D(t||"",e,n,o)},b.closeDialog=function(e,t){var n="number"==typeof t;if(n&&t!==l)n&&n>l&&t<=l+u.length&&(u[t-l-1]=void 0);else{for("function"==typeof o&&(o(e,t),o=void 0),y.style.visibility="";v.hasChildNodes();)v.lastChild.remove();for(var i;u.length&&!i;)(i=u.shift())?D.apply(void 0,i):++l}},b.showLoading=function(e){p.querySelector(":scope>div").lastChild.data=e||s.loading,0===d&&(p.style.visibility="inherit"),d++},b.hideLoading=function(){d>0&&0===--d&&(p.style.visibility="",b.listeners.trigger(b.dialogEvents,"loaded"))},b.hint=function(e,t){h.querySelector(":scope>.text").firstChild.data=e,n?clearTimeout(n):h.style.opacity=1,n=setTimeout((function(){h.style.opacity="",n=void 0}),t||5e3)},Object.defineProperty(b,"isLoading",{get:function(){return d>0}}),b.dialogEvents={__proto__:null},self.addEventListener("resize",I),N.onzoomstart=function e(t){var n=this,o=f[i];if(o){var a=t.x,r=t.y,s=o.z,l=function(e){var t=Math.min(e.zoom*s,1);t!==o.z&&(o.x=a+(o.x-a)*t/o.z,o.y=r+(o.y-r)*t/o.z,o.z=t,j(i))};this.onzoomstart=null,this.onzoomchange=l,this.onzoomend=function(t){l(t),n.onzoomchange=n.zoomend=null,n.onzoomstart=e}}},N.ondragstart=function e(t){var n=this,o=f[i];if(o){var a=t.x,r=t.y,s=o.x,l=o.y,c=function(e){o.x=s+e.x-a,o.y=l+e.y-r,j(i)};this.ondragstart=null,this.ondragmove=c,this.ondragend=function(t){c(t),n.ondragmove=n.ondragend=null,n.ondragstart=e}}},q[c]=k,E.onchange=function(){var e="";if(this.children.length){if(this.children.length>1)for(var t=0;t<this.children.length;t++)e+=t===this.current?"●":"○";x.style.visibility="inherit"}else x.style.visibility="";x.querySelector(":scope>.nav").firstChild.data=e},g.onclick=b.closeDialog.bind(b,!0),C.onclick=S.onclick=b.closeDialog.bind(b,!1),H.onclick=function(){var e=0===i?q.childElementCount-1:i-1;L(q.children[e],q.children[i],!0,(function(){return i=e}))},O.onclick=function(){var e=i===q.childElementCount-1?0:i+1;L(q.children[e],q.children[i],!1,(function(){return i=e}))},A.onclick=function(){var e=f[i];e&&(e.r%2?e.fy*=-1:e.fx*=-1,j(i,!0))},T.onclick=function(){var e=f[i];e&&(e.r+=1,j(i,!0))},H.appendChild(b.makeSvg("mdiChevronLeft",1)),O.appendChild(b.makeSvg("mdiChevronRight",1)),A.appendChild(b.makeSvg("mdiFlipHorizontal",1)),T.appendChild(b.makeSvg("mdiFileRotateRightOutline",1)),S.appendChild(b.makeSvg("mdiWindowClose",1)),w.appendChild(b.makeSvg("mdiCloseThick",1)),M.appendChild(w.firstChild.cloneNode(!0)),w.onclick=b.hideSliderView,M.onclick=b.hidePhotoView,I()}()),function(){var e,t,n,o,a,r=location.pathname,d=document.body.querySelector("#page"),f=d.querySelector(":scope>.navMenu"),p=d.querySelector(":scope>.header>.title"),h=d.querySelector(":scope>.header>.back"),y=d.querySelector(":scope>.header>.leftMenuBtn"),m=d.querySelector(":scope>.header>.rightMenuBtn");try{sessionStorage.setItem(0,0),sessionStorage.removeItem(0)}catch(P){Storage.prototype.setItem=function(){}}function v(e){e&&(b.listeners.off(this,e.type,v),setTimeout((function(){document.body.querySelector("#popup").style[u]=""}),400)),document.body.addEventListener("transitionend",g),document.documentElement.classList.remove("loading")}function g(e){e.target===this&&(this.removeEventListener(e.type,g),this.style.transition="")}function x(e){for(;f.hasChildNodes();)f.firstChild.remove();for(var t in a=e)if(t in i){var n=f.appendChild(document.createElement("a"));n.className=t,n.href="#/"+t,RegExp("^"+t+"(?:-|$)").test(b.location.id)?(n.classList.add("selected"),a[t]&&n.appendChild(b.makeSvg("string"==typeof a[t]?a[t]:a[t][1],1))):a[t]&&n.appendChild(b.makeSvg("string"==typeof a[t]?a[t]:a[t][0],1)),n.append(i[t].alias?i[t].title||i[i[t].alias].title:i[t].title)}}function w(){var t=b.parseHash(location.hash);b.isSameLocation(t,b.location)||(b.lastLocation=b.location,b.location=t,!i[b.location.id].back||b.lastLocation.id!==i[b.location.id].back&&i[b.lastLocation.id].alias!==i[b.location.id].back?i[b.lastLocation.id].backLoc&&(b.location.id===i[b.lastLocation.id].back||i[b.location.id].alias&&i[b.location.id].alias===i[b.lastLocation.id].back)&&(delete i[b.lastLocation.id].backLoc,delete e[b.lastLocation.id],sessionStorage.setItem(r,toJsex(e))):(e[b.location.id]=i[b.location.id].backLoc=b.lastLocation,sessionStorage.setItem(r,toJsex(e))),E())}function E(){var e=b.location.id;if("lastLocation"in b){var r=e.replace(/-.*$/,""),l=b.lastLocation.id.replace(/-.*$/,"");if(r!==l){var c=f.querySelector(":scope>a."+r);c&&(c.classList.add("selected"),a[r]&&"string"!=typeof a[r]&&b.setSvgPath(c.firstChild,a[r][1],1)),(c=f.querySelector(":scope>a."+l))&&(c.classList.remove("selected"),a[l]&&"string"!=typeof a[l]&&b.setSvgPath(c.firstChild,a[l][0],1))}q()}b.listeners.trigger(b.pageEvents,"route"),S("page",e,(function(a){if(n)o=!0;else{var r;if(e===t)M();else{var l=i[e].alias?i[e].alias:e,c=i[e].title||i[l].title;d.classList.add(e),(document.body.classList.contains("clean")||document.body.classList.contains("hidePageHeader"))&&(document.title=c),self.frameElement&&frameElement.fusion&&"page"===b.currentPopup&&b.setPopupTitle(c),"string"==typeof i[l].titleContent?p.innerHTML=typeof i[l].titleContent:i[l].titleContent instanceof Node?p.replaceChildren(i[l].titleContent):i[l].titleContent&&"function"==typeof i[l].titleContent[Symbol.iterator]?p.replaceChildren.apply(p,_toConsumableArray(i[l].titleContent)):p.replaceChildren(c),m.removeAttribute("href"),i[l].rightMenuContent||i[l].onrightmenuclick?("string"==typeof i[l].rightMenuContent?m.innerHTML=i[l].rightMenuContent:i[l].rightMenuContent instanceof Node?m.replaceChildren(i[l].rightMenuContent):i[l].rightMenuContent&&"function"==typeof i[l].rightMenuContent[Symbol.iterator]?m.replaceChildren.apply(m,_toConsumableArray(i[l].rightMenuContent)):m.innerHTML="","string"==typeof i[l].onrightmenuclick&&(m.href=i[l].onrightmenuclick),m.style.display=""):(m.style.display="none",m.innerHTML=""),y.removeAttribute("href"),i[l].leftMenuContent||i[l].onleftmenuclick?("string"==typeof i[l].leftMenuContent?y.innerHTML=i[l].leftMenuContent:i[l].leftMenuContent instanceof Node?y.replaceChildren(i[l].leftMenuContent):i[l].leftMenuContent&&"function"==typeof i[l].leftMenuContent[Symbol.iterator]?y.replaceChildren.apply(y,_toConsumableArray(i[l].leftMenuContent)):y.innerHTML="","string"==typeof i[l].onleftmenuclick&&(y.href=i[l].onleftmenuclick),y.style.display=""):(y.style.display="none",y.innerHTML="");var u=b.getDefaultBack();if(u){var f=i[u.id].title;!f&&i[u.id].alias&&(f=i[i[u.id].alias].title),h.lastChild.data=f||s.back,h.href=b.buildHash(u),h.style.display=""}else h.style.display="none";var v=d.querySelector(":scope>.content>."+l);if(t){d.classList.remove(t);var g=i[t].alias?i[t].alias:t,S=t;if(t=e,l===g)M(r=!0);else{n=!0;var k=d.querySelector(":scope>.content>."+g),x=b.lastLocation&&b.lastLocation.args.backHash===location.hash||b.isGoingback(S,e);r=!x||a,L(v,k,x,(function(){n=!1,"function"==typeof i[g].onunloadend&&i[g].onunloadend(),i[g].status--,i[g].autoDestroy?C(i[g],"page",g):document.activeElement&&k.contains(document.activeElement)&&document.activeElement.blur(),"function"==typeof i[l].onloadend&&i[l].onloadend(r),i[l].status++,o&&(o=!1,v.style.visibility="inherit",E())})),"function"==typeof i[g].onunload&&i[g].onunload(),i[g].status--,i[l].status++,"function"==typeof i[l].onload&&i[l].onload(r)}}else r=!0,t=e,v.style.left=0,v.style.visibility="inherit",M(r)}b.listeners.trigger(b.pageEvents,"routeend",{force:r})}}))}function _(e,n){var o=i[t].alias?i[i[t].alias]:i[t];(!e||e===t||Array.isArray(e)&&e.indexOf(t)>=0)&&(n||q(),"function"==typeof o.onload&&o.onload(!0),"function"==typeof o.onloadend&&o.onloadend(!0))}function q(){self.frameElement&&frameElement.fusion||(b.hideReadable(),b.closePopup())}function M(e){var n=i[t].alias?i[i[t].alias]:i[t];n.status<3&&n.status++,"function"==typeof n.onload&&n.onload(e),"function"==typeof n.onloadend&&n.onloadend(e),n.status<4&&n.status++}b.init=function(t){for(var n,o={__proto__:null},a=0;a<t.length;a++){var s=void 0,c=void 0;"string"==typeof t[a]?s=t[a]:(s=t[a].id,c=t[a].ico),s in i&&(n||(n=s),o[s]=c)}if(n)if(l){if(x(o),l!==n){var d=l;if(l=n,b.location.id===d)return w(),!0}}else{for(var f in l=n,b.location=b.parseHash(location.hash),b.location.args.ui&&b.location.args.ui.split(",").forEach((function(e){document.body.classList.add(e)})),(e=sessionStorage.getItem(r))&&(e=e.parseJsex())&&(e=e.value),e||(e={__proto__:null}),e)f in i&&(i[f].backLoc=e[f]);var p;if(self.addEventListener("hashchange",w),x(o),E(),"autoPopup"in b.location.args)"autoPopupArg"in b.location.args&&(p=b.location.args.autoPopupArg.parseJsex())&&(p=p.value),b.openPopup(b.location.args.autoPopup,p)?(document.body.querySelector("#popup").style[u]="1ms",b.listeners.on(b.popupEvents,"showend",v)):v();else v()}},b.reloadPage=function(e,t){var n;b.isLoading?(n=b.location,b.listeners.on(b.dialogEvents,"loaded",(function o(i){b.listeners.off(this,i.type,o),n===b.location&&_(e,t)}))):_(e,t)},b.destroyPage=function(e){if(2===i[e].status)return C(i[e],"page",e),!0},b.pageEvents={__proto__:null},d.querySelector(":scope>.content")[c]=k,h.insertBefore(b.makeSvg("mdiChevronLeft",1),h.firstChild),m.onclick=function(){var e=i[i[t].alias?i[t].alias:t];"function"==typeof e.onrightmenuclick&&e.onrightmenuclick()},y.onclick=function(){var e=i[i[t].alias?i[t].alias:t];"function"==typeof e.onleftmenuclick&&e.onleftmenuclick()}}(),s=b.getLang(s),self.addEventListener("contextmenu","Firefox"===browser.name?g:v),self.addEventListener("dragstart",v),"IOS"===browser.name&&(self.addEventListener("gesturestart",v,{passive:!1}),self.addEventListener("touchmove",v,{passive:!1})),b;function C(e,t,n){var o=document.body.querySelector("#"+t+">.content>."+n);if(o&&("function"==typeof e.ondestroy&&e.ondestroy(),o.remove(),e.js)){var i=t+"/"+n+"/"+n;if(require.defined(i)){var a=require(i);require.undef(i),a&&(self.Reflect?Reflect.setPrototypeOf(e,Object.prototype):e.__proto__=Object.prototype)}}e.css&&e.css.href&&(b.removeCss(e.css),e.css=!0),delete e.status}function S(e,t,n){var o,l;if("panel"===e?o=a[t]:"popup"===e?o=r[t]:(o=i[t]).alias&&(t=o.alias,o=i[o.alias]),o.status>1)n();else if(!o.status){var c=function(i){var a=document.body.querySelector("#"+e+">.content");a.insertAdjacentHTML("beforeEnd",'<div class="'+t+'">'+i+"</div>");var r=a.lastChild;if(o.js){b.showLoading(),r.style.opacity=0,r.style.transition="opacity 400ms ease-in-out",r.ontransitionend=function(e){e.target===this&&(this.ontransitionend=null,this.style.transition="")},b.listeners.on(b.dialogEvents,"loaded",(function e(t){b.listeners.off(this,t.type,e),r.style.opacity=""}));var s=l+t;require([s],(function(e){e&&(self.Reflect?Reflect.setPrototypeOf(o,e):o.__proto__=e),o.status++,n(!0),b.hideLoading()}),BUILD&&function(n){C(o,e,t),n.requireType&&"scripterror"!==n.requireType&&"nodefine"!==n.requireType||n.xhr&&404!==n.xhr.status?d(s,n.message):u(),b.hideLoading()})}else o.status++,n(!0)},d=function(t,n){b.alert(s.error.replace("${res}",t)+n,"page"===e?function(){history.back()}:void 0)},u=function(){"page"===e?location.reload():b.confirm(s.update,(function(e){e&&location.reload()}))};o.status=1,l=e+"/"+t+"/";var f=require.toUrl(l);if(o.css&&(o.css=b.appendCss(f+t)),o.html){var p=f+t+".html";fetch(p).then((function(n){if(n.ok)return n.text().then(c);C(o,e,t),BUILD&&404===n.status?u():d(p,n.status)}),(function(e){return d(p,e.message)})).then(b.hideLoading),b.showLoading()}else c("")}}function L(e,t,n,o){e.style.visibility="inherit",n?(t.style[d]="viewTransR1",e.style[d]="viewTransR2"):(t.style[d]="viewTransL1",e.style[d]="viewTransL2"),e[c]=function(e){e.target===this&&(this[c]=null,o())}}function k(e){e.target.parentNode===this&&("1"===e.target.style[d][e.target.style[d].length-1]&&(e.target.style.visibility=""),e.target.style[d]="")}}));