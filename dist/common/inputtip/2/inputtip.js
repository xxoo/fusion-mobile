"use strict";define(["module","common/kernel/kernel","./lang"],function(e,t,n){var i,l,o,d,a,s=document.createElement("div");function r(){var e,t,n=s.offsetWidth,i=s.offsetHeight,o=l.getBoundingClientRect();"IOS"===browser.name?(e=scrollX,t=scrollY):e=t=0,o.top<i+6?(a.className="bottom",s.style.top=t+o.top+o.height+6+"px"):(a.className="top",s.style.top=t+o.top-i-6+"px"),o.width/2+o.left<n/2?(s.style.left=e,a.style.left=Math.max(10,o.width/2+o.left)+"px"):innerWidth-o.left-o.width/2<n/2?(s.style.left=e+innerWidth-n+"px",a.style.left=Math.min(n-10,n-innerWidth+o.left+o.width/2)+"px"):(s.style.left=e+o.width/2+o.left-n/2+"px",a.style.left="50%"),d=requestAnimationFrame(r)}function c(e){l.removeEventListener("blur",c),cancelAnimationFrame(d),l=void 0,s.style.opacity="",e&&clearTimeout(o)}t.appendCss(require.toUrl(e.id)),s.id="inputtip",s.appendChild(document.createTextNode(n)),a=s.appendChild(document.createElement("span")),document.body.appendChild(s),document.addEventListener("invalid",function(e){e.preventDefault(),i||(l&&c(!0),(l=e.target).focus(),l.addEventListener("blur",c),r(),s.style.opacity=1,o=setTimeout(c,5e3),i=setTimeout(function(){i=void 0},0))},!0)});